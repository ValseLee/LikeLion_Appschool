## Functions
---

### 목표
1. 함수, 메서드, 클로저의 체계적 구조와 효율적인 코드, 반복을 피하며 구조화하는 방법을 익힌다.
2. 실질적인 활용 방법도 함께 익힌다.

### 함수란 무엇인가?

- 특정 작업을 수행하기 위해 호출되도록 정의되는 코드 블록이다.
- 작업 수행을 위한 데이터가 제공될 수 있고, 작업 결과를 반환할 수도 있다.
- 수행할 값인 매개변수 파라미터를 받아 산술식을 수행하고, 필요하다면 매개변수의 값을 인자로 전달할 수 있다.
- 함수가 호출되어 실제 받는 값을 매개변수, 값이 전달된 후에는 인자로 부른다.
- 함수와 메소드의 구조는 동일하다.
    + 다만 클래스, 구조체, 열거형과 연관된 함수다. 그 내부에서 선언한 함수는 '메서드'이다.
    + 특별한 언급이 없다면 함수에 적용되는 규칙과 동작은 메서드에서 동일하게 적용된다.
    
### 어떻게 선언하고 사용할까?

```swift
func funcName(parameter: Type) -> ReturnType {
    code
    return ReturnType
}
```

- `func` : 함수를 컴파일러에게 선언하여 전달하는 키워드
- `->` : 어떠한 데이터를 함수 실행 결과로 반환
- 파라미터는 이름을 정할 수 있고, 함수를 정의할 때에는 타입을 명시해야 한다.
- `return` : 함수 내에서 처리한 특정 데이터를 반환한다.
    + 값을 반환할 때에는 화살표와 함께 반환 데이터의 타입을 명시해야 한다.
    + 함수 내부에서의 코드가 한 줄일 때는 `return`은 생략할 수 있으나 협업시에 권장되지 않는다.
    + 반환 데이터를 다른 변수에 바인딩하여 활용하는 것이 일반적이다.
    + 반환 데이터를 사용하지 않는다면 바인딩한 변수의 이름을 언더바로 바꾸거나 `@discardableResult` 어트리뷰트를 활용할 수 있다.
- 호출할 때에는 각 인자를 함수명의 소괄호로 전달한다.
    + 각 인자는 함수가 받아오도록 구성된 매개변수와 타입이 일치해야 한다.

---
### 지역 매개변수와 외부 매개변수
- 함수 내에서 사용하는 파라미터-매개변수를 지역 매개변수라 한다.
- 함수의 매개변수에는 지역 매개변수와 외부 매개변수명-아규먼트 레이블도 존재할 수 있다.
- 외부 매개변수명은 함수를 호출할 때의 이름을 말한다.
    + 지역 매개변수의 앞 자리에 외부 매개변수명을 설정할 수 있다.
    + 외부 매개변수명을 따로 지정하지 않으면 함수를 호출할 때 지역 매개변수와 동일한 이름으로 사용된다.
    + 만약 아무런 이름 없이 함수를 호출하고 싶다면 외부 매개변수명을 언더바로 설정해도 된다.
- 엄연히 말하면 함수 내에서는 '상수'다.
    + 이 값을 변경하고 싶다면 함수 내부에서 변수를 새로 만들어주도록 한다.
    + 함수의 실행과 함께 매개변수로 받아온 매개변수 데이터에 변화를 남기고 싶다면 `inout`으로 정의해야 한다.
        * 매개변수 앞에 앰퍼샌드를 붙여준다.
- 인자 값이 들어오지 않을 때 사용할 기본 매개변수 값을 설정할 수 있다.
    + 함수를 정의할 때 디폴트 값을 할당하기만 하면 된다.
    + 디폴트 매개변수는 함수를 정의할 때 끝에서 한 번 선언한다.
    
---
### 여러 결과 반환하기
- 결과를 튜플로 묶어서 여러 결과를 한 번에 반환할 수 있다.
```swift
func sizeConverter(_ length: Float) -> (yards: Float, centimeters: Float, meters: Float) {
    // code
    return (yards, centimeters, meters)
}

let result = sizeConverter(20)
print(result.yards)
print(result.centimeters)
print(result.meters)
```

### 여러가지의 값을 받아오기
- 가변 파라미터를 활용하여 함수가 정해지지 않은 수의 데이터를 받아오도록 정의할 수 있다.
- 함수 내부에서는 가변 파라미터가 배열로 바인딩 된다.
```swift
func displayThings(_ strings: String...) {
    for str in strings {
        print(str)
    }
}
```

### 일급객체 함수
- 함수를 데이터 타입으로 취급할 수 있다. 즉, 함수를 상수, 변수에 할당할 수 있다.
    + 함수의 이름으로 상수에 할당한다.
```swift
func inchesToFeet(_ inches: Float) -> Float {
    return inches * 0.8
}

let toFeet = inchesToFeet
```
- 또한 함수를 결과로 전달하거나 매개변수로 전할 수도 있다.
- 함수의 타입은 선언꼴에 따라 천차만별이다.
    + 위의 경우에는 (Float) -> Float 이라 할 수 있겠다.
    + 파라미터와 리턴 타입에 따라 함수의 타입이 달라질 수 있으니 사용에 유의하자.
- 함수를 일급객체로 활용해서 여러 형태로 활용할 수 있다.
```swift
func converter(_ convertFunc: (Float) -> Float, value: Float) {
    let result = convertFunc(value)
    print(result)
}

func converter2(_ feet: Bool) -> ((Float) -> Float) {
    if feet {
        return toFeet
    } else {
        return toYards
    }
}
```